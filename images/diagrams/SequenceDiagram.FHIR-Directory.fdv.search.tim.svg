<?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="929px" preserveAspectRatio="none" style="width:1119px;height:929px;background:#FFFFFF;" version="1.1" viewBox="0 0 1119 929" width="1119px" zoomAndPan="magnify"><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="331" x="390.25" y="27.9951">FHIR-VZD Authentisierung f&#252;r Versicherte</text><rect fill="#F5F5F5" height="880.5469" style="stroke:#181818;stroke-width:0.5;" width="465" x="375" y="43.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="142" x="534" y="55.3638">VZD-FHIR-Directory</text><rect fill="#FFFFFF" height="292.7266" style="stroke:#181818;stroke-width:1.0;" width="10" x="540.5" y="279.6563"/><rect fill="#FFFFFF" height="181.4688" style="stroke:#181818;stroke-width:1.0;" width="10" x="787.5" y="666.7813"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1015.5" y="206.2578"/><rect fill="#FFFFFF" height="44.2656" style="stroke:#181818;stroke-width:1.0;" width="10" x="1015.5" y="381.1875"/><rect fill="none" height="412.3906" style="stroke:#000000;stroke-width:1.5;" width="1092.5" x="10" y="167.9922"/><rect fill="none" height="90.2031" style="stroke:#000000;stroke-width:1.5;" width="836" x="10" y="766.0469"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="105" x2="105" y1="93.7266" y2="873.25"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="432" x2="432" y1="93.7266" y2="873.25"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="545" x2="545" y1="93.7266" y2="873.25"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="792" x2="792" y1="93.7266" y2="873.25"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1020.5" x2="1020.5" y1="93.7266" y2="873.25"/><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="170" x="20" y="62.4297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="156" x="27" y="82.4248">TIM-Client Versicherter</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="170" x="20" y="872.25"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="156" x="27" y="892.2451">TIM-Client Versicherter</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="106" x="379" y="62.4297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="92" x="386" y="82.4248">OAuth-Server</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="106" x="379" y="872.25"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="92" x="386" y="892.2451">OAuth-Server</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="101" x="495" y="62.4297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="87" x="502" y="82.4248">Auth-Service</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="101" x="495" y="872.25"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="87" x="502" y="892.2451">Auth-Service</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="87" x="749" y="62.4297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73" x="756" y="82.4248">FHIR-Proxy</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="87" x="749" y="872.25"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73" x="756" y="892.2451">FHIR-Proxy</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="144" x="948.5" y="46.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129" x="956" y="66.1279">Matrix-Homeserver</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130" x="955.5" y="82.4248">(Messenger-Proxy)</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="144" x="948.5" y="872.25"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129" x="956" y="892.2451">Matrix-Homeserver</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130" x="955.5" y="908.542">(Messenger-Proxy)</text><rect fill="#FFFFFF" height="292.7266" style="stroke:#181818;stroke-width:1.0;" width="10" x="540.5" y="279.6563"/><rect fill="#FFFFFF" height="181.4688" style="stroke:#181818;stroke-width:1.0;" width="10" x="787.5" y="666.7813"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1015.5" y="206.2578"/><rect fill="#FFFFFF" height="44.2656" style="stroke:#181818;stroke-width:1.0;" width="10" x="1015.5" y="381.1875"/><line style="stroke:#181818;stroke-width:1.0;" x1="105" x2="147" y1="139.9922" y2="139.9922"/><line style="stroke:#181818;stroke-width:1.0;" x1="147" x2="147" y1="139.9922" y2="152.9922"/><line style="stroke:#181818;stroke-width:1.0;" x1="106" x2="147" y1="152.9922" y2="152.9922"/><polygon fill="#181818" points="116,148.9922,106,152.9922,116,156.9922,112,152.9922" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="112" y="127.3599">[01]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="279" x="146" y="119.7935">pr&#252;fe ob noch g&#252;ltiges search-access-token</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="260" x="146" y="134.9263">vom FHIR-Directory Auth-Service vorliegt</text><path d="M10,167.9922 L74,167.9922 L74,175.125 L64,185.125 L10,185.125 L10,167.9922 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="412.3906" style="stroke:#000000;stroke-width:1.5;" width="1092.5" x="10" y="167.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="25" y="181.0591">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="302" x="89" y="180.2026">[kein g&#252;ltiges search-access-token vorhanden]</text><polygon fill="#181818" points="1003.5,202.2578,1013.5,206.2578,1003.5,210.2578,1007.5,206.2578" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="105" x2="1009.5" y1="206.2578" y2="206.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="112" y="201.1919">[02]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="379" x="146" y="201.1919">POST /_matrix/client/r0/user/{userId}/openid/request_token</text><polygon fill="#181818" points="116,231.3906,106,235.3906,116,239.3906,112,235.3906" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="110" x2="1019.5" y1="235.3906" y2="235.3906"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="122" y="230.3247">[03]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="720" x="156" y="230.3247">HTTP 200 OK, Result body {"access_token": "Matrix-OpenID-Token",..., "matrix_server_name": "example.com",...}</text><polygon fill="#181818" points="528.5,275.6563,538.5,279.6563,528.5,283.6563,532.5,279.6563" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="105" x2="534.5" y1="279.6563" y2="279.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="112" y="267.0239">[04]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="164" x="146" y="259.4575">GET /patient-authenticate</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="289" x="146" y="274.5903">X-Matrix-OpenID-Token: Matrix-OpenID-Token</text><line style="stroke:#181818;stroke-width:1.0;" x1="550.5" x2="592.5" y1="323.9219" y2="323.9219"/><line style="stroke:#181818;stroke-width:1.0;" x1="592.5" x2="592.5" y1="323.9219" y2="336.9219"/><line style="stroke:#181818;stroke-width:1.0;" x1="551.5" x2="592.5" y1="336.9219" y2="336.9219"/><polygon fill="#181818" points="561.5,332.9219,551.5,336.9219,561.5,340.9219,557.5,336.9219" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="557.5" y="311.2896">[05]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="189" x="591.5" y="303.7231">Pr&#252;fe ob matrix_server_name</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="181" x="591.5" y="318.856">in F&#246;derationsliste enthalten</text><polygon fill="#181818" points="1003.5,377.1875,1013.5,381.1875,1003.5,385.1875,1007.5,381.1875" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="550.5" x2="1009.5" y1="381.1875" y2="381.1875"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="557.5" y="368.5552">[06]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135" x="591.5" y="360.9888">GET /openid/userinfo/</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="380" x="591.5" y="376.1216">request header, Authorization: Bearer Matrix-OpenID-Token</text><polygon fill="#181818" points="561.5,421.4531,551.5,425.4531,561.5,429.4531,557.5,425.4531" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="555.5" x2="1019.5" y1="425.4531" y2="425.4531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="567.5" y="412.8208">[07]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="82" x="601.5" y="405.2544">HTTP 200 OK</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="202" x="601.5" y="420.3872">(Result Body MXID des Nutzers)</text><line style="stroke:#181818;stroke-width:1.0;" x1="550.5" x2="592.5" y1="454.5859" y2="454.5859"/><line style="stroke:#181818;stroke-width:1.0;" x1="592.5" x2="592.5" y1="454.5859" y2="467.5859"/><line style="stroke:#181818;stroke-width:1.0;" x1="551.5" x2="592.5" y1="467.5859" y2="467.5859"/><polygon fill="#181818" points="561.5,463.5859,551.5,467.5859,561.5,471.5859,557.5,467.5859" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="557.5" y="449.52">[08]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="189" x="591.5" y="449.52">Erzeuge search-access-token</text><polygon fill="#181818" points="116,568.3828,106,572.3828,116,576.3828,112,572.3828" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="110" x2="544.5" y1="572.3828" y2="572.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="122" y="529.4849">[09]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="82" x="156" y="491.6528">HTTP 200 OK</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="156" y="506.7856">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="255" x="164" y="521.9185">"access_token"="search-access-token",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="141" x="164" y="537.0513">"token_type":"bearer",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="118" x="164" y="552.1841">"expires_in":86400</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="156" y="567.3169">}</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1112.5" x="0" y="607.9492"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1112.5" y1="607.9492" y2="607.9492"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1112.5" y1="610.9492" y2="610.9492"/><rect fill="#EEEEEE" height="23.1328" style="stroke:#000000;stroke-width:2.0;" width="327" x="392.75" y="597.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="308" x="398.75" y="613.4497">...Suche durch Versicherte im FHIR VZD...</text><polygon fill="#181818" points="775.5,662.7813,785.5,666.7813,775.5,670.7813,779.5,666.7813" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="105" x2="781.5" y1="666.7813" y2="666.7813"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="112" y="654.1489">[10]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151" x="146" y="646.5825">GET /insurant/search?...</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="273" x="146" y="661.7153">Authorization: Bearer search-access-token</text><line style="stroke:#181818;stroke-width:1.0;" x1="797.5" x2="839.5" y1="695.9141" y2="695.9141"/><line style="stroke:#181818;stroke-width:1.0;" x1="839.5" x2="839.5" y1="695.9141" y2="708.9141"/><line style="stroke:#181818;stroke-width:1.0;" x1="798.5" x2="839.5" y1="708.9141" y2="708.9141"/><polygon fill="#181818" points="808.5,704.9141,798.5,708.9141,808.5,712.9141,804.5,708.9141" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="804.5" y="690.8481">[11]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="170" x="838.5" y="690.8481">pr&#252;fe search-access-token</text><line style="stroke:#181818;stroke-width:1.0;" x1="797.5" x2="839.5" y1="738.0469" y2="738.0469"/><line style="stroke:#181818;stroke-width:1.0;" x1="839.5" x2="839.5" y1="738.0469" y2="751.0469"/><line style="stroke:#181818;stroke-width:1.0;" x1="798.5" x2="839.5" y1="751.0469" y2="751.0469"/><polygon fill="#181818" points="808.5,747.0469,798.5,751.0469,808.5,755.0469,804.5,751.0469" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="804.5" y="732.981">[12]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="38" x="838.5" y="732.981">suche</text><path d="M10,766.0469 L74,766.0469 L74,773.1797 L64,783.1797 L10,783.1797 L10,766.0469 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="90.2031" style="stroke:#000000;stroke-width:1.5;" width="836" x="10" y="766.0469"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="25" y="779.1138">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="204" x="89" y="778.2573">[search-access-token ist g&#252;ltig]</text><polygon fill="#181818" points="116,800.3125,106,804.3125,116,808.3125,112,804.3125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="110" x2="786.5" y1="804.3125" y2="804.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="122" y="799.2466">[13]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="201" x="156" y="799.2466">HTTP 200 OK (Result Body json)</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="10" x2="846" y1="813.3125" y2="813.3125"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="215" x="15" y="823.5229">[search-accesstoken ist ung&#252;ltig]</text><polygon fill="#181818" points="116,844.25,106,848.25,116,852.25,112,848.25" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="110" x2="791.5" y1="848.25" y2="848.25"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="122" y="843.1841">[14]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="60" x="156" y="843.1841">HTTP 401</text><!--SRC=[XLLHRzem47xFhpXbBwjA29sgQKAZqxgsAveOLK6isZAXa1p4AzYPxI2Wwj_QKz_uOpix0G9DDv1GOjzz_kxxpaUOQS6psGWbdD3NVJyw-z5e_7GTpVGKmRswRjzwW-yNy37J2NBD54EPyGcCrqyI1YWLYnAK6bt7IKEfMSJIa6iOV9eo2eTGWTjlTxpYjPGWAMCa5a3WdZtbWacCj91BUFKjOHfxCt6F3j2d3Ens3HElXt9E40P_i8hjslFGRIIBS1DQ6JbEBL5BuqQAnT9raCT0zFQhIfIDwuHQieLtBMQeB8-0l-wWKiWdA7E08wgkqC0xswZHX5IkdyO8OWHSH0bCrazJpIQeG64eeyGBeuXmF4sLyu3FnGmEf2cN17CX2NUY7IUSQhX7nl-DQ1AIaCV8ZG8xUebgmastrmT_EBEb-P7TycN3pwX2_y7yjkD7NwJ8MUnB_9sXqaEBQh32IBDvg96Wp2lfv9NBlkxtR-1Dem7TBpMuHPKHtP68b_3Wvlno9BUvrRPB1xKllBvThjNhzHguERTXBlcGXpCq2RW8P-aKwv6OsS17Go36CgEzQeiUE3vkmkTBAZaDjTq8YmQFJ5B0xxmA9aseMCpXSrHJTFv4YcwzVauyuEJLrVfFZ9AE5rnDcQ9ZwVo4h2pysK8QVopNGdxZ1kDZuGUyS08I30chPlj3IBQog4qufoQWgrt5-cNNDWMKNAC6BsmxDxPrxjeNfB62hvbUqPK-UgvvkO0jugLSOJR1gjui9xpGEW5_23Z0Vikqt0emjsO3xVDGBrDg57TafIXsS97IbL93HZttxkrfen7mmxxPp0h7Z0B7QRM0cgkNqV22EAC3oxCCM7vHpJ2ZA6YrjhSVg9XnMlZ7kCea3H8_v_o1OWDURLcLH5jkuzIXaLKW5pEbAc4Nf0pnV4vK3GRgliteC3AOl9q9iES2x7N2BoKukOzJTS1WXql_5lz3FcsS7AXF5HhP_m80]--></g></svg>